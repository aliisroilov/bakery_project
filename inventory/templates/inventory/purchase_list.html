{% extends "base.html" %}
{% block title %}ðŸ›’ Xaridlar{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-amber-50 via-white to-stone-100 py-10 px-6">

  <!-- Header -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-10">
    <h1 class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-amber-600 to-amber-800 drop-shadow-sm mb-4 sm:mb-0">
      ðŸ›’ Xaridlar Roâ€˜yxati
    </h1>
    <a href="{% url 'inventory:purchase_create' %}"
       class="bg-gradient-to-r from-green-500 to-green-700 hover:from-green-600 hover:to-green-800 text-white px-6 py-2.5 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5 text-sm font-semibold">
       âž• Yangi Xarid Qoâ€˜shish
    </a>
  </div>

  <!-- Purchases Table -->
  <div class="bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-amber-100 hover:border-amber-200 transition-all overflow-x-auto">
    <table class="w-full text-sm text-left text-gray-700">
      <thead class="bg-gradient-to-r from-amber-100 via-amber-50 to-stone-100 text-gray-800 uppercase text-xs">
        <tr>
          <th class="px-6 py-3">#</th>
          <th class="px-6 py-3">Mahsulot</th>
          <th class="px-6 py-3 text-right">Miqdor</th>
          <th class="px-6 py-3 text-left">Oâ€˜lchov</th>
          <th class="px-6 py-3 text-right">Narxi (soâ€˜m)</th>
          <th class="px-6 py-3 text-right">Sana</th>
        </tr>
      </thead>
      <tbody>
        {% for purchase in purchases %}
          <tr class="border-b border-amber-100 hover:bg-amber-50 transition-all">
            <td class="px-6 py-3 font-medium text-gray-600">{{ forloop.counter }}</td>
            <td class="px-6 py-3 font-semibold text-gray-800">{{ purchase.ingredient.name }}</td>
            <td class="px-6 py-3 text-right text-green-700 font-medium">+{{ purchase.quantity|floatformat:2 }}</td>
            <td class="px-6 py-3">{{ purchase.ingredient.unit.abbreviation }}</td>
            <td class="px-6 py-3 text-right text-amber-700 font-semibold">{{ purchase.price|floatformat:2 }}</td>
            <td class="px-6 py-3 text-right text-gray-500">{{ purchase.date|date:"d M Y" }}</td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="6" class="px-6 py-6 text-center text-gray-400 italic">Xaridlar topilmadi.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

</div>
{% endblock %}
